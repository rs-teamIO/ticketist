<div fxLayout="row" fxLayoutAlign="center center" class="main">
  <mat-card class="example-card">
    <mat-card-header>
      <mat-card-title>Profile</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngIf="isLoading">
        <p>Loading ...</p>
      </div>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <table class="example-full-width" cellspacing="0">
          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="First name"
                  formControlName="firstName"
                >
                <mat-error *ngIf="firstName.errors && firstName.touched">
                  <p>First name is not valid</p>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Last name"
                  formControlName="lastName"
                >
                <mat-error *ngIf="lastName.errors && lastName.touched">
                  <p>Last name is not valid</p>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Username"
                  formControlName="username"
                >
                <mat-error *ngIf="username.errors && username.touched">
                  <p>Username is not valid</p>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>

          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Email address"
                  formControlName="email"
                >
                <mat-error *ngIf="email.errors && email.touched">
                  <p>Email is not valid</p>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>

          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Password"
                  formControlName="oldPassword"
                  type="password"
                >
                <mat-error *ngIf="password.errors && password.touched">
                  <p>Password is not valid</p>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>

          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="New password"
                  formControlName="newPassword"
                  type="password"
                >
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="New password repeated"
                  formControlName="newPasswordRepeat"
                  type="password"
                >
              </mat-form-field>
            </td>
          </tr>
          <tr *ngIf="error">
            <td>
              <p>{{error}}</p>
            </td>
          </tr>
          <tr>
            <td>
              <button mat-raised-button type="submit" color="primary" [disabled]="userForm.invalid">Submit</button>
            </td>
          </tr>
        </table>
      </form>
    </mat-card-content>
  </mat-card>
</div>

